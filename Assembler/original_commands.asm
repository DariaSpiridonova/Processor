;----------------------------------------------------------------------------------------------------------
; Main function                                                                                           -
;----------------------------------------------------------------------------------------------------------
IN
IN
IN
POPR CX
POPR BX 
POPR AX
PUSHR AX
PUSH 0
JE :5 
CALL :1
CALL :2

SUB
PUSH 2
OUT
SQRT
POPR DX
PUSH -1
PUSHR BX
MUL
POPR BX
PUSHR BX
PUSHR DX
ADD
POPR CX
PUSHR BX
PUSHR DX
SUB
POPR DX
PUSHR CX
PUSH 2
PUSHR AX
MUL
DIV
OUT
PUSHR DX
PUSH 2
PUSHR AX
MUL
DIV
OUT
HLT

;----------------------------------------------------------------------------------------------------------
; Calculating the discriminant                                                                            -
;----------------------------------------------------------------------------------------------------------
:1
PUSHR BX
PUSHR BX
MUL
PUSHR AX
PUSHR CX
PUSH 4
MUL
MUL
SUB
RET

;----------------------------------------------------------------------------------------------------------
; Check the discriminant                                                                                  -
;----------------------------------------------------------------------------------------------------------
:2
PUSH 0
JA :3 ;--- if the discriminant is negative ---
JE :4 ;--- if the discriminant is equal to zero ---
RET

;----------------------------------------------------------------------------------------------------------
; For the negative discriminant                                                                           -
;----------------------------------------------------------------------------------------------------------
:3
PUSH 0
OUT
HLT

;----------------------------------------------------------------------------------------------------------
; For a discriminant equal to zero                                                                        -
;----------------------------------------------------------------------------------------------------------
:4
PUSH 1
OUT
PUSH -1
PUSHR BX
MUL
PUSH 2
PUSHR AX
MUL
DIV
OUT
HLT

;----------------------------------------------------------------------------------------------------------
; If a = 0                                                                                                -
;----------------------------------------------------------------------------------------------------------
:5
PUSHR BX
PUSH 0
JE :6
PUSH 1
OUT
PUSHR CX
PUSH -1
MUL
PUSHR BX
DIV
OUT
HLT

;----------------------------------------------------------------------------------------------------------
; If b = 0                                                                                                -
;----------------------------------------------------------------------------------------------------------
:6
PUSHR CX
PUSH 0
JE :7
PUSH 0
OUT 
HLT

;----------------------------------------------------------------------------------------------------------
; If c = 0                                                                                                -
;----------------------------------------------------------------------------------------------------------
:7
PUSH 8
OUT 
HLT